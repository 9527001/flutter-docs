<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Layout å¸ƒå±€æœºåˆ¶å¯è§†åŒ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        /* å¤´éƒ¨ */
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .header .back-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .header .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* ç¤ºä¾‹é€‰æ‹©å™¨ */
        .example-selector {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .example-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .example-tab {
            padding: 12px 24px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .example-tab:hover {
            border-color: #4facfe;
            transform: translateY(-2px);
        }

        .example-tab.active {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            display: flex;
            min-height: 600px;
        }

        /* å·¦ä¾§ï¼šå¸ƒå±€å¯è§†åŒ– */
        .layout-visualization {
            flex: 2;
            padding: 30px;
            background: #fafafa;
        }

        .layout-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .layout-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }

        /* å¸ƒå±€æ¼”ç¤ºåŒº */
        .layout-demo {
            margin-top: 30px;
            padding: 20px;
            background: #f0f4ff;
            border-radius: 8px;
            border: 2px dashed #4facfe;
        }

        .constraint-box {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #4facfe;
        }

        .constraint-title {
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 10px;
        }

        .constraint-value {
            font-family: 'Courier New', monospace;
            color: #666;
            font-size: 14px;
        }

        /* å¸ƒå±€æµç¨‹å›¾ */
        .flow-diagram {
            margin: 30px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: #4facfe;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #4facfe;
        }

        .step-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .step-description {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }

        .arrow-down {
            text-align: center;
            color: #4facfe;
            font-size: 24px;
            margin: 5px 0;
        }

        /* å¯è§†åŒ–ç›’å­ */
        .visual-box {
            position: relative;
            border: 2px solid #333;
            padding: 10px;
            margin: 10px;
            display: inline-block;
            background: white;
            transition: all 0.3s;
        }

        .visual-box:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: scale(1.02);
        }

        .visual-box.parent {
            border-color: #e74c3c;
            background: rgba(231, 76, 60, 0.05);
        }

        .visual-box.child {
            border-color: #3498db;
            background: rgba(52, 152, 219, 0.05);
        }

        .box-label {
            position: absolute;
            top: -12px;
            left: 10px;
            background: white;
            padding: 2px 8px;
            font-size: 12px;
            font-weight: bold;
        }

        .box-size {
            font-size: 11px;
            color: #999;
            margin-top: 5px;
            font-family: 'Courier New', monospace;
        }

        /* å³ä¾§ï¼šæ§åˆ¶é¢æ¿ */
        .control-panel {
            flex: 1;
            padding: 30px;
            background: white;
            border-left: 1px solid #e0e0e0;
            overflow-y: auto;
        }

        .panel-section {
            margin-bottom: 30px;
        }

        .panel-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: #4facfe;
            border-radius: 2px;
        }

        /* ä¿¡æ¯æ¡† */
        .info-box {
            padding: 20px;
            background: #f0f4ff;
            border-left: 4px solid #4facfe;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .info-box h4 {
            margin-bottom: 10px;
            color: #4facfe;
        }

        .info-box p {
            font-size: 14px;
            line-height: 1.8;
            color: #555;
            white-space: pre-line;
        }

        .info-box ul {
            margin-top: 10px;
            padding-left: 20px;
        }

        .info-box li {
            font-size: 13px;
            line-height: 1.8;
            color: #555;
        }

        /* ä»£ç æ¡† */
        .code-box {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .code-box .keyword {
            color: #66d9ef;
        }

        .code-box .string {
            color: #e6db74;
        }

        .code-box .comment {
            color: #75715e;
        }

        /* æ§åˆ¶å™¨ */
        .controls {
            margin: 20px 0;
        }

        .control-item {
            margin: 15px 0;
        }

        .control-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #333;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
        }

        .value-display {
            display: inline-block;
            padding: 4px 12px;
            background: #4facfe;
            color: white;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }

        /* æŒ‰é’® */
        .btn {
            padding: 10px 20px;
            background: #4facfe;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #3d8fce;
            transform: translateY(-2px);
        }

        .btn.secondary {
            background: #95a5a6;
        }

        .btn.secondary:hover {
            background: #7f8c8d;
        }

        /* é«˜äº®æ¡† */
        .highlight-box {
            padding: 15px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 6px;
            margin: 15px 0;
        }

        .highlight-box strong {
            color: #856404;
        }

        /* å“åº”å¼ */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
            }

            .control-panel {
                border-left: none;
                border-top: 1px solid #e0e0e0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <a href="index.html" class="back-btn">â† è¿”å›é¦–é¡µ</a>
            <h1>ğŸ“ Flutter Layout å¸ƒå±€æœºåˆ¶å¯è§†åŒ–</h1>
            <p>æ·±å…¥ç†è§£çº¦æŸä¼ é€’ã€å°ºå¯¸ç¡®å®šå’Œå¸ƒå±€æµç¨‹</p>
        </div>

        <!-- ç¤ºä¾‹é€‰æ‹©å™¨ -->
        <div class="example-selector">
            <div class="example-tabs" id="exampleTabs"></div>
        </div>

        <!-- ä¸»å†…å®¹ -->
        <div class="main-content">
            <!-- å·¦ä¾§ï¼šå¸ƒå±€å¯è§†åŒ– -->
            <div class="layout-visualization">
                <div class="layout-container">
                    <div class="layout-title">å¸ƒå±€æ¼”ç¤º</div>
                    <div id="layoutDemo"></div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šæ§åˆ¶é¢æ¿ -->
            <div class="control-panel" id="controlPanel"></div>
        </div>
    </div>

    <script>
        // åº”ç”¨çŠ¶æ€ç®¡ç†
        const app = {
            currentExample: 0,
            
            // å¯è°ƒèŠ‚çš„å‚æ•°
            params: {
                parentWidth: 300,
                parentHeight: 200,
                childWidth: 150,
                childHeight: 100,
            },

            // ç¤ºä¾‹æ•°æ®
            examples: [
                {
                    title: 'åŸºç¡€çº¦æŸä¼ é€’',
                    description: 'Constraints go down, Sizes go up',
                    type: 'basic'
                },
                {
                    title: 'Tight Constraints',
                    description: 'ä¸¥æ ¼çº¦æŸ - çˆ¶Widgetå¼ºåˆ¶å­Widgetå°ºå¯¸',
                    type: 'tight'
                },
                {
                    title: 'Loose Constraints',
                    description: 'å®½æ¾çº¦æŸ - å­Widgetå¯ä»¥è‡ªç”±é€‰æ‹©å°ºå¯¸',
                    type: 'loose'
                },
                {
                    title: 'Unbounded Constraints',
                    description: 'æ— ç•Œçº¦æŸ - æ— é™åˆ¶çš„å¸ƒå±€ç©ºé—´',
                    type: 'unbounded'
                },
                {
                    title: 'Center å¸ƒå±€',
                    description: 'Center Widget å¦‚ä½•å¸ƒå±€å­Widget',
                    type: 'center'
                },
                {
                    title: 'Padding å¸ƒå±€',
                    description: 'Padding å¦‚ä½•å½±å“çº¦æŸå’Œå°ºå¯¸',
                    type: 'padding'
                }
            ],

            // åˆå§‹åŒ–
            init() {
                this.renderExampleTabs();
                this.selectExample(0);
            },

            // æ¸²æŸ“ç¤ºä¾‹æ ‡ç­¾
            renderExampleTabs() {
                const container = document.getElementById('exampleTabs');
                container.innerHTML = this.examples.map((example, index) => `
                    <div class="example-tab ${index === 0 ? 'active' : ''}" 
                         onclick="app.selectExample(${index})" 
                         id="tab-${index}">
                        <strong>${example.title}</strong>
                        <br>
                        <small>${example.description}</small>
                    </div>
                `).join('');
            },

            // é€‰æ‹©ç¤ºä¾‹
            selectExample(index) {
                this.currentExample = index;

                // æ›´æ–°æ ‡ç­¾æ ·å¼
                document.querySelectorAll('.example-tab').forEach((tab, i) => {
                    tab.classList.toggle('active', i === index);
                });

                this.render();
            },

            // æ¸²æŸ“
            render() {
                this.renderLayoutDemo();
                this.renderControlPanel();
            },

            // æ¸²æŸ“å¸ƒå±€æ¼”ç¤º
            renderLayoutDemo() {
                const example = this.examples[this.currentExample];
                const container = document.getElementById('layoutDemo');
                
                switch (example.type) {
                    case 'basic':
                        container.innerHTML = this.renderBasicLayout();
                        break;
                    case 'tight':
                        container.innerHTML = this.renderTightLayout();
                        break;
                    case 'loose':
                        container.innerHTML = this.renderLooseLayout();
                        break;
                    case 'unbounded':
                        container.innerHTML = this.renderUnboundedLayout();
                        break;
                    case 'center':
                        container.innerHTML = this.renderCenterLayout();
                        break;
                    case 'padding':
                        container.innerHTML = this.renderPaddingLayout();
                        break;
                }
            },

            // åŸºç¡€å¸ƒå±€
            renderBasicLayout() {
                return `
                    <div class="flow-diagram">
                        <div class="flow-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">çˆ¶Widgetä¼ é€’çº¦æŸ (Constraints go down)</div>
                                <div class="step-description">
                                    çˆ¶Widgetå‘Šè¯‰å­Widgetå¯ç”¨çš„å°ºå¯¸èŒƒå›´<br>
                                    minWidth: 0, maxWidth: ${this.params.parentWidth}<br>
                                    minHeight: 0, maxHeight: ${this.params.parentHeight}
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">å­Widgetç¡®å®šå°ºå¯¸ (Sizes go up)</div>
                                <div class="step-description">
                                    å­Widgetåœ¨çº¦æŸèŒƒå›´å†…é€‰æ‹©è‡ªå·±çš„å°ºå¯¸<br>
                                    é€‰æ‹©çš„å°ºå¯¸: ${this.params.childWidth} Ã— ${this.params.childHeight}
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">çˆ¶Widgetå®šä½å­Widget (Parent sets position)</div>
                                <div class="step-description">
                                    çˆ¶Widgetå†³å®šå­Widgetçš„ä½ç½®<br>
                                    å­Widgetæ— æ³•å†³å®šè‡ªå·±çš„ä½ç½®
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="layout-demo">
                        <div class="visual-box parent" style="width: ${this.params.parentWidth}px; height: ${this.params.parentHeight}px;">
                            <span class="box-label">Parent</span>
                            <div class="visual-box child" style="width: ${this.params.childWidth}px; height: ${this.params.childHeight}px;">
                                <span class="box-label">Child</span>
                                <div class="box-size">${this.params.childWidth} Ã— ${this.params.childHeight}</div>
                            </div>
                            <div class="box-size">${this.params.parentWidth} Ã— ${this.params.parentHeight}</div>
                        </div>
                    </div>
                `;
            },

            // Tight Constraints
            renderTightLayout() {
                return `
                    <div class="info-box">
                        <h4>Tight Constraintsï¼ˆä¸¥æ ¼çº¦æŸï¼‰</h4>
                        <p>å½“ minWidth == maxWidth ä¸” minHeight == maxHeight æ—¶ï¼Œè¿™æ˜¯ä¸¥æ ¼çº¦æŸã€‚
å­Widgetå¿…é¡»ä½¿ç”¨ç²¾ç¡®æŒ‡å®šçš„å°ºå¯¸ï¼Œæ²¡æœ‰é€‰æ‹©çš„ä½™åœ°ã€‚</p>
                    </div>

                    <div class="constraint-box">
                        <div class="constraint-title">çº¦æŸæ¡ä»¶</div>
                        <div class="constraint-value">
                            minWidth: ${this.params.parentWidth}, maxWidth: ${this.params.parentWidth}<br>
                            minHeight: ${this.params.parentHeight}, maxHeight: ${this.params.parentHeight}<br>
                            <strong style="color: #e74c3c;">è¿™æ˜¯ Tight Constraintï¼å­Widgetå¿…é¡»æ˜¯ ${this.params.parentWidth} Ã— ${this.params.parentHeight}</strong>
                        </div>
                    </div>

                    <div class="layout-demo">
                        <div class="visual-box parent" style="width: ${this.params.parentWidth}px; height: ${this.params.parentHeight}px;">
                            <span class="box-label">Parent (Tight)</span>
                            <div class="visual-box child" style="width: 100%; height: 100%;">
                                <span class="box-label">Child (è¢«è¿«å¡«æ»¡)</span>
                                <div class="box-size">${this.params.parentWidth} Ã— ${this.params.parentHeight}</div>
                            </div>
                        </div>
                    </div>

                    <div class="code-box">
<span class="comment">// å¸¸è§çš„ Tight Constraints åœºæ™¯</span>
<span class="keyword">SizedBox</span>(
  width: <span class="string">100</span>,
  height: <span class="string">100</span>,
  child: <span class="keyword">Container</span>(), <span class="comment">// Container è¢«è¿«ä¸º 100Ã—100</span>
)
                    </div>
                `;
            },

            // Loose Constraints
            renderLooseLayout() {
                return `
                    <div class="info-box">
                        <h4>Loose Constraintsï¼ˆå®½æ¾çº¦æŸï¼‰</h4>
                        <p>å½“ minWidth == 0 ä¸” minHeight == 0 æ—¶ï¼Œè¿™æ˜¯å®½æ¾çº¦æŸã€‚
å­Widgetå¯ä»¥åœ¨ 0 åˆ° maxWidth/maxHeight ä¹‹é—´è‡ªç”±é€‰æ‹©å°ºå¯¸ã€‚</p>
                    </div>

                    <div class="constraint-box">
                        <div class="constraint-title">çº¦æŸæ¡ä»¶</div>
                        <div class="constraint-value">
                            minWidth: 0, maxWidth: ${this.params.parentWidth}<br>
                            minHeight: 0, maxHeight: ${this.params.parentHeight}<br>
                            <strong style="color: #27ae60;">è¿™æ˜¯ Loose Constraintï¼å­Widgetå¯ä»¥è‡ªç”±é€‰æ‹©å°ºå¯¸</strong>
                        </div>
                    </div>

                    <div class="layout-demo">
                        <div class="visual-box parent" style="width: ${this.params.parentWidth}px; height: ${this.params.parentHeight}px;">
                            <span class="box-label">Parent (Loose)</span>
                            <div class="visual-box child" style="width: ${this.params.childWidth}px; height: ${this.params.childHeight}px;">
                                <span class="box-label">Child (è‡ªç”±å°ºå¯¸)</span>
                                <div class="box-size">${this.params.childWidth} Ã— ${this.params.childHeight}</div>
                            </div>
                            <div class="box-size">${this.params.parentWidth} Ã— ${this.params.parentHeight}</div>
                        </div>
                    </div>

                    <div class="code-box">
<span class="comment">// Center ä¼šä¼ é€’ Loose Constraints</span>
<span class="keyword">Center</span>(
  child: <span class="keyword">Container</span>(
    width: <span class="string">100</span>,
    height: <span class="string">50</span>, <span class="comment">// å¯ä»¥è‡ªç”±é€‰æ‹©å°ºå¯¸</span>
  ),
)
                    </div>
                `;
            },

            // Unbounded Constraints
            renderUnboundedLayout() {
                return `
                    <div class="info-box">
                        <h4>Unbounded Constraintsï¼ˆæ— ç•Œçº¦æŸï¼‰</h4>
                        <p>å½“ maxWidth æˆ– maxHeight ä¸ºæ— ç©·å¤§æ—¶ï¼Œè¿™æ˜¯æ— ç•Œçº¦æŸã€‚
è¿™ç§æƒ…å†µå¾ˆå±é™©ï¼Œå®¹æ˜“å¯¼è‡´å¸ƒå±€é”™è¯¯ã€‚</p>
                    </div>

                    <div class="highlight-box">
                        <strong>âš ï¸ è­¦å‘Šï¼š</strong> ListViewã€Rowã€Column ç­‰ä¼šäº§ç”Ÿæ— ç•Œçº¦æŸï¼<br>
                        å¦‚æœå­Widgetæ²¡æœ‰æ˜ç¡®å°ºå¯¸ï¼Œä¼šå¯¼è‡´é”™è¯¯ã€‚
                    </div>

                    <div class="constraint-box">
                        <div class="constraint-title">çº¦æŸæ¡ä»¶</div>
                        <div class="constraint-value">
                            minWidth: 0, maxWidth: <strong style="color: #e74c3c;">âˆ (infinity)</strong><br>
                            minHeight: 0, maxHeight: ${this.params.parentHeight}<br>
                            <strong style="color: #e74c3c;">è¿™æ˜¯ Unbounded Constraintï¼å¿…é¡»ç»™å­Widgetæ˜ç¡®å°ºå¯¸</strong>
                        </div>
                    </div>

                    <div class="code-box">
<span class="comment">// âŒ é”™è¯¯ï¼šListView ä¸­çš„ Container æ²¡æœ‰æ˜ç¡®å®½åº¦</span>
<span class="keyword">ListView</span>(
  children: [
    <span class="keyword">Container</span>(), <span class="comment">// æŠ¥é”™ï¼maxWidth æ˜¯ infinity</span>
  ],
)

<span class="comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ SizedBox ç»™æ˜ç¡®å°ºå¯¸</span>
<span class="keyword">ListView</span>(
  children: [
    <span class="keyword">SizedBox</span>(
      width: <span class="string">100</span>,
      child: <span class="keyword">Container</span>(),
    ),
  ],
)
                    </div>
                `;
            },

            // Centerå¸ƒå±€
            renderCenterLayout() {
                const centerX = (this.params.parentWidth - this.params.childWidth) / 2;
                const centerY = (this.params.parentHeight - this.params.childHeight) / 2;
                
                return `
                    <div class="info-box">
                        <h4>Center Widget å¸ƒå±€æµç¨‹</h4>
                        <ul>
                            <li>1. æ¥æ”¶çˆ¶Widgetçš„çº¦æŸ</li>
                            <li>2. ä¼ é€’ Loose Constraints ç»™å­Widget</li>
                            <li>3. è·å–å­Widgetçš„å°ºå¯¸</li>
                            <li>4. å°†å­Widgetå±…ä¸­å®šä½</li>
                            <li>5. Centerè‡ªèº«å¡«æ»¡çˆ¶Widgetçš„çº¦æŸ</li>
                        </ul>
                    </div>

                    <div class="flow-diagram">
                        <div class="flow-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Center æ¥æ”¶çº¦æŸ</div>
                                <div class="step-description">
                                    çº¦æŸ: 0 â‰¤ width â‰¤ ${this.params.parentWidth}, 0 â‰¤ height â‰¤ ${this.params.parentHeight}
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">ä¼ é€’ Loose Constraints</div>
                                <div class="step-description">
                                    å­Widgetå¯ä»¥è‡ªç”±é€‰æ‹©å°ºå¯¸ï¼ˆ0 åˆ° maxï¼‰
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">å­Widgetè¿”å›å°ºå¯¸</div>
                                <div class="step-description">
                                    å­Widgetå°ºå¯¸: ${this.params.childWidth} Ã— ${this.params.childHeight}
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">Center å®šä½å­Widget</div>
                                <div class="step-description">
                                    ä½ç½®: (${Math.round(centerX)}, ${Math.round(centerY)}) - å±…ä¸­å¯¹é½
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="layout-demo">
                        <div class="visual-box parent" style="width: ${this.params.parentWidth}px; height: ${this.params.parentHeight}px; position: relative;">
                            <span class="box-label">Parent</span>
                            <div style="position: absolute; top: ${centerY}px; left: ${centerX}px;">
                                <div class="visual-box child" style="width: ${this.params.childWidth}px; height: ${this.params.childHeight}px;">
                                    <span class="box-label">Child (å±…ä¸­)</span>
                                    <div class="box-size">${this.params.childWidth} Ã— ${this.params.childHeight}</div>
                                </div>
                            </div>
                            <div class="box-size">${this.params.parentWidth} Ã— ${this.params.parentHeight}</div>
                        </div>
                    </div>
                `;
            },

            // Paddingå¸ƒå±€
            renderPaddingLayout() {
                const padding = 20;
                const innerWidth = this.params.parentWidth - padding * 2;
                const innerHeight = this.params.parentHeight - padding * 2;
                
                return `
                    <div class="info-box">
                        <h4>Padding Widget å¸ƒå±€æµç¨‹</h4>
                        <ul>
                            <li>1. æ¥æ”¶çˆ¶Widgetçš„çº¦æŸ</li>
                            <li>2. ä»çº¦æŸä¸­å‡å» padding å€¼</li>
                            <li>3. ä¼ é€’æ”¶ç¼©åçš„çº¦æŸç»™å­Widget</li>
                            <li>4. è·å–å­Widgetçš„å°ºå¯¸</li>
                            <li>5. Paddingå°ºå¯¸ = å­Widgetå°ºå¯¸ + padding</li>
                        </ul>
                    </div>

                    <div class="flow-diagram">
                        <div class="flow-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Padding æ¥æ”¶çº¦æŸ</div>
                                <div class="step-description">
                                    çº¦æŸ: 0 â‰¤ width â‰¤ ${this.params.parentWidth}, 0 â‰¤ height â‰¤ ${this.params.parentHeight}
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">è®¡ç®—å­Widgetå¯ç”¨ç©ºé—´</div>
                                <div class="step-description">
                                    padding: ${padding}px (all)<br>
                                    å¯ç”¨ç©ºé—´: ${innerWidth} Ã— ${innerHeight} (å‡å»paddingå)
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">â†“</div>
                        
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">ä¼ é€’æ”¶ç¼©çš„çº¦æŸ</div>
                                <div class="step-description">
                                    æ–°çº¦æŸ: 0 â‰¤ width â‰¤ ${innerWidth}, 0 â‰¤ height â‰¤ ${innerHeight}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="layout-demo">
                        <div class="visual-box parent" style="width: ${this.params.parentWidth}px; height: ${this.params.parentHeight}px;">
                            <span class="box-label">Padding (${padding}px)</span>
                            <div style="padding: ${padding}px;">
                                <div class="visual-box child" style="width: ${Math.min(this.params.childWidth, innerWidth)}px; height: ${Math.min(this.params.childHeight, innerHeight)}px;">
                                    <span class="box-label">Child</span>
                                    <div class="box-size">${Math.min(this.params.childWidth, innerWidth)} Ã— ${Math.min(this.params.childHeight, innerHeight)}</div>
                                </div>
                            </div>
                            <div class="box-size">${this.params.parentWidth} Ã— ${this.params.parentHeight}</div>
                        </div>
                    </div>

                    <div class="code-box">
<span class="keyword">Padding</span>(
  padding: EdgeInsets.all(<span class="string">${padding}</span>),
  child: <span class="keyword">Container</span>(
    width: <span class="string">${Math.min(this.params.childWidth, innerWidth)}</span>,
    height: <span class="string">${Math.min(this.params.childHeight, innerHeight)}</span>,
  ),
)
                    </div>
                `;
            },

            // æ¸²æŸ“æ§åˆ¶é¢æ¿
            renderControlPanel() {
                const example = this.examples[this.currentExample];
                const container = document.getElementById('controlPanel');
                
                container.innerHTML = `
                    <!-- æ ¸å¿ƒåŸåˆ™ -->
                    <div class="panel-section">
                        <div class="panel-title">Flutter Layout æ ¸å¿ƒåŸåˆ™</div>
                        <div class="info-box">
                            <h4>ä¸‰ä¸ªé»„é‡‘æ³•åˆ™</h4>
                            <p><strong>1. Constraints go down</strong>
çº¦æŸä»ä¸Šå¾€ä¸‹ä¼ é€’ï¼ˆçˆ¶â†’å­ï¼‰

<strong>2. Sizes go up</strong>
å°ºå¯¸ä»ä¸‹å¾€ä¸Šè¿”å›ï¼ˆå­â†’çˆ¶ï¼‰

<strong>3. Parent sets position</strong>
çˆ¶Widgetå†³å®šå­Widgetçš„ä½ç½®</p>
                        </div>
                    </div>

                    <!-- å‚æ•°æ§åˆ¶ -->
                    <div class="panel-section">
                        <div class="panel-title">è°ƒæ•´å‚æ•°</div>
                        <div class="controls">
                            <div class="control-item">
                                <label class="control-label">
                                    çˆ¶Widgetå®½åº¦
                                    <span class="value-display">${this.params.parentWidth}px</span>
                                </label>
                                <input type="range" class="slider" min="200" max="400" 
                                       value="${this.params.parentWidth}" 
                                       oninput="app.updateParam('parentWidth', this.value)">
                            </div>
                            
                            <div class="control-item">
                                <label class="control-label">
                                    çˆ¶Widgeté«˜åº¦
                                    <span class="value-display">${this.params.parentHeight}px</span>
                                </label>
                                <input type="range" class="slider" min="150" max="300" 
                                       value="${this.params.parentHeight}" 
                                       oninput="app.updateParam('parentHeight', this.value)">
                            </div>
                            
                            <div class="control-item">
                                <label class="control-label">
                                    å­Widgetå®½åº¦
                                    <span class="value-display">${this.params.childWidth}px</span>
                                </label>
                                <input type="range" class="slider" min="50" max="300" 
                                       value="${this.params.childWidth}" 
                                       oninput="app.updateParam('childWidth', this.value)">
                            </div>
                            
                            <div class="control-item">
                                <label class="control-label">
                                    å­Widgeté«˜åº¦
                                    <span class="value-display">${this.params.childHeight}px</span>
                                </label>
                                <input type="range" class="slider" min="50" max="200" 
                                       value="${this.params.childHeight}" 
                                       oninput="app.updateParam('childHeight', this.value)">
                            </div>
                            
                            <button class="btn" onclick="app.resetParams()">é‡ç½®å‚æ•°</button>
                        </div>
                    </div>

                    <!-- ç¤ºä¾‹è¯´æ˜ -->
                    <div class="panel-section">
                        <div class="panel-title">å½“å‰ç¤ºä¾‹è¯´æ˜</div>
                        ${this.getExampleDescription(example)}
                    </div>

                    <!-- å¸¸è§é—®é¢˜ -->
                    <div class="panel-section">
                        <div class="panel-title">å¸¸è§é—®é¢˜</div>
                        <div class="info-box">
                            <h4>ä¸ºä»€ä¹ˆå­Widgetä¸èƒ½å†³å®šè‡ªå·±çš„ä½ç½®ï¼Ÿ</h4>
                            <p>è¿™æ˜¯Flutterçš„è®¾è®¡å“²å­¦ã€‚å­Widgetåªè´Ÿè´£ç¡®å®šè‡ªå·±çš„å°ºå¯¸ï¼Œä½ç½®ç”±çˆ¶Widgetæ ¹æ®å¸ƒå±€ç­–ç•¥å†³å®šã€‚è¿™æ ·å¯ä»¥è®©å¸ƒå±€é€»è¾‘æ›´åŠ æ¸…æ™°å’Œå¯é¢„æµ‹ã€‚</p>
                        </div>
                        
                        <div class="info-box">
                            <h4>ä»€ä¹ˆæ—¶å€™ä¼šé‡åˆ°å¸ƒå±€é”™è¯¯ï¼Ÿ</h4>
                            <p>æœ€å¸¸è§çš„æ˜¯åœ¨ListViewã€Rowã€Columnç­‰Widgetä¸­ä½¿ç”¨æ²¡æœ‰æ˜ç¡®å°ºå¯¸çš„å­Widgetã€‚è¿™äº›Widgetä¼šä¼ é€’æ— ç•Œçº¦æŸï¼Œå¿…é¡»ç»™å­Widgetæ˜ç¡®çš„å°ºå¯¸ã€‚</p>
                        </div>
                    </div>
                `;
            },

            // è·å–ç¤ºä¾‹è¯´æ˜
            getExampleDescription(example) {
                const descriptions = {
                    basic: `
                        <div class="info-box">
                            <h4>åŸºç¡€å¸ƒå±€æµç¨‹</h4>
                            <p>è¿™æ˜¯Flutterå¸ƒå±€çš„åŸºæœ¬æµç¨‹ï¼Œç†è§£è¿™ä¸ªæµç¨‹æ˜¯æŒæ¡Flutterå¸ƒå±€çš„å…³é”®ã€‚</p>
                        </div>
                    `,
                    tight: `
                        <div class="info-box">
                            <h4>Tight Constraints åº”ç”¨åœºæ™¯</h4>
                            <ul>
                                <li>SizedBox: å¼ºåˆ¶å­Widgetä½¿ç”¨æŒ‡å®šå°ºå¯¸</li>
                                <li>Container (å¸¦width/height): ä¼ é€’ä¸¥æ ¼çº¦æŸ</li>
                                <li>Expanded: åœ¨Row/Columnä¸­å æ®æ‰€æœ‰å¯ç”¨ç©ºé—´</li>
                            </ul>
                        </div>
                    `,
                    loose: `
                        <div class="info-box">
                            <h4>Loose Constraints åº”ç”¨åœºæ™¯</h4>
                            <ul>
                                <li>Center: è®©å­Widgetè‡ªç”±é€‰æ‹©å°ºå¯¸</li>
                                <li>Align: å…è®¸å­Widgetä½¿ç”¨å†…åœ¨å°ºå¯¸</li>
                                <li>UnconstrainedBox: ç§»é™¤çˆ¶Widgetçš„çº¦æŸ</li>
                            </ul>
                        </div>
                    `,
                    unbounded: `
                        <div class="highlight-box">
                            <strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>
                            1. ä½¿ç”¨SizedBox/ContaineræŒ‡å®šæ˜ç¡®å°ºå¯¸<br>
                            2. ä½¿ç”¨Expanded/Flexibleå¡«å……å¯ç”¨ç©ºé—´<br>
                            3. ä½¿ç”¨IntrinsicWidth/IntrinsicHeightï¼ˆæ€§èƒ½è¾ƒå·®ï¼‰
                        </div>
                    `,
                    center: `
                        <div class="info-box">
                            <h4>Center Widgetç‰¹ç‚¹</h4>
                            <ul>
                                <li>ä¼ é€’Loose Constraintsç»™å­Widget</li>
                                <li>å­Widgetå¯ä»¥è‡ªç”±é€‰æ‹©å°ºå¯¸</li>
                                <li>Centerè‡ªèº«ä¼šå¡«æ»¡çˆ¶Widgetçš„çº¦æŸ</li>
                                <li>å­Widgetåœ¨Centerä¸­å±…ä¸­æ˜¾ç¤º</li>
                            </ul>
                        </div>
                    `,
                    padding: `
                        <div class="info-box">
                            <h4>Padding Widgetç‰¹ç‚¹</h4>
                            <ul>
                                <li>ä»çº¦æŸä¸­å‡å»paddingå€¼</li>
                                <li>ä¼ é€’æ”¶ç¼©åçš„çº¦æŸç»™å­Widget</li>
                                <li>Paddingçš„å°ºå¯¸ = å­Widgetå°ºå¯¸ + padding</li>
                                <li>paddingä¼šå½±å“å¸ƒå±€æ€§èƒ½</li>
                            </ul>
                        </div>
                    `
                };

                return descriptions[example.type] || '';
            },

            // æ›´æ–°å‚æ•°
            updateParam(param, value) {
                this.params[param] = parseInt(value);
                this.render();
            },

            // é‡ç½®å‚æ•°
            resetParams() {
                this.params = {
                    parentWidth: 300,
                    parentHeight: 200,
                    childWidth: 150,
                    childHeight: 100,
                };
                this.render();
            }
        };

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>

