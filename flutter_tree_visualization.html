<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Engine ä¸‰æ£µæ ‘å¯è§†åŒ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        /* å¤´éƒ¨ */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        /* ç¤ºä¾‹é€‰æ‹©å™¨ */
        .example-selector {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .example-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .example-tab {
            padding: 12px 24px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .example-tab:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .example-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            display: flex;
            min-height: 600px;
        }

        /* å·¦ä¾§ï¼šæ ‘å¯è§†åŒ– */
        .tree-visualization {
            flex: 2;
            padding: 30px;
            background: #fafafa;
        }

        .tree-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .tree-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-indicator {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-left: auto;
        }

        /* æ ‘ç»“æ„æ˜¾ç¤º */
        .trees-display {
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .single-tree {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 3px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
            opacity: 0;
            transform: scale(0.9);
            animation: fadeInScale 0.5s forwards;
        }

        @keyframes fadeInScale {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .single-tree:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .single-tree.widget {
            border-color: #4caf50;
        }

        .single-tree.element {
            border-color: #2196f3;
        }

        .single-tree.render {
            border-color: #ff9800;
        }

        .single-tree.highlighted {
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.3);
        }

        .tree-header {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 6px;
            color: white;
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .widget .tree-header {
            background: #4caf50;
        }

        .element .tree-header {
            background: #2196f3;
        }

        .render .tree-header {
            background: #ff9800;
        }

        /* æ ‘èŠ‚ç‚¹ */
        .tree-node {
            margin: 8px 0;
        }

        .node {
            display: inline-block;
            padding: 8px 16px;
            background: white;
            border: 2px solid;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            margin: 4px 0;
        }

        .widget .node {
            border-color: #4caf50;
            color: #2e7d32;
        }

        .element .node {
            border-color: #2196f3;
            color: #1565c0;
        }

        .render .node {
            border-color: #ff9800;
            color: #e65100;
        }

        .tree-branch {
            width: 2px;
            height: 20px;
            margin-left: 30px;
            opacity: 0.4;
        }

        .widget .tree-branch {
            background: #4caf50;
        }

        .element .tree-branch {
            background: #2196f3;
        }

        .render .tree-branch {
            background: #ff9800;
        }

        .tree-children {
            margin-left: 20px;
            padding-left: 15px;
            border-left: 2px dashed rgba(0, 0, 0, 0.1);
        }

        .tree-description {
            margin-top: 15px;
            font-size: 12px;
            color: #666;
            line-height: 1.6;
        }

        /* ç®­å¤´ */
        .arrow {
            font-size: 36px;
            color: #999;
            align-self: center;
        }

        /* å³ä¾§ï¼šæ§åˆ¶é¢æ¿ */
        .control-panel {
            flex: 1;
            padding: 30px;
            background: white;
            border-left: 1px solid #e0e0e0;
            overflow-y: auto;
        }

        .panel-section {
            margin-bottom: 30px;
        }

        .panel-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: #667eea;
            border-radius: 2px;
        }

        /* æ­¥éª¤æ§åˆ¶ */
        .step-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .step-btn {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .step-btn:hover:not(:disabled) {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .step-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .step-info {
            font-weight: bold;
            color: #667eea;
        }

        .reset-btn {
            width: 100%;
            padding: 12px;
            background: #ff9800;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            background: #f57c00;
            transform: translateY(-2px);
        }

        /* è¯´æ˜æ¡† */
        .info-box {
            padding: 20px;
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .info-box h4 {
            margin-bottom: 10px;
            color: #667eea;
        }

        .info-box p {
            font-size: 14px;
            line-height: 1.8;
            color: #555;
            white-space: pre-line;
        }

        /* çŠ¶æ€æ›´æ–°æ¼”ç¤º */
        .demo-box {
            padding: 20px;
            background: #fff3e0;
            border-radius: 8px;
            text-align: center;
        }

        .counter-display {
            font-size: 48px;
            font-weight: bold;
            color: #f57c00;
            margin: 20px 0;
        }

        .demo-btn {
            padding: 12px 30px;
            background: #9c27b0;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .demo-btn:hover {
            background: #7b1fa2;
            transform: scale(1.05);
        }

        .demo-description {
            margin-top: 15px;
            font-size: 13px;
            color: #666;
            line-height: 1.6;
        }

        /* è¯¦ç»†è¯´æ˜ */
        .detail-section {
            padding: 15px;
            background: #e8f5e9;
            border-radius: 8px;
            margin-top: 15px;
        }

        .detail-section h5 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .detail-section ul {
            list-style: none;
            padding-left: 0;
        }

        .detail-section li {
            padding: 6px 0;
            font-size: 13px;
            color: #555;
            line-height: 1.6;
        }

        .detail-section li::before {
            content: 'âœ“ ';
            color: #4caf50;
            font-weight: bold;
            margin-right: 6px;
        }

        /* å“åº”å¼ */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
            }

            .control-panel {
                border-left: none;
                border-top: 1px solid #e0e0e0;
            }

            .trees-display {
                flex-direction: column;
            }

            .arrow {
                transform: rotate(90deg);
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>ğŸŒ³ Flutter Engine ä¸‰æ£µæ ‘å¯è§†åŒ–</h1>
            <p>æ·±å…¥ç†è§£ Widget Treeã€Element Tree å’Œ RenderObject Tree çš„å·¥ä½œåŸç†</p>
        </div>

        <!-- ç¤ºä¾‹é€‰æ‹©å™¨ -->
        <div class="example-selector">
            <div class="example-tabs" id="exampleTabs"></div>
        </div>

        <!-- ä¸»å†…å®¹ -->
        <div class="main-content">
            <!-- å·¦ä¾§ï¼šæ ‘å¯è§†åŒ– -->
            <div class="tree-visualization">
                <div class="tree-container">
                    <div class="tree-title">
                        ä¸‰æ£µæ ‘ç»“æ„
                        <span class="step-indicator" id="stepIndicator">ç¬¬ 1 æ­¥</span>
                    </div>
                    <div class="trees-display" id="treesDisplay"></div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šæ§åˆ¶é¢æ¿ -->
            <div class="control-panel">
                <!-- æ­¥éª¤æ§åˆ¶ -->
                <div class="panel-section">
                    <div class="panel-title">æ¼”ç¤ºæ­¥éª¤</div>
                    <div class="step-controls">
                        <button class="step-btn" id="prevBtn" onclick="app.previousStep()">â—€ ä¸Šä¸€æ­¥</button>
                        <span class="step-info" id="stepInfo">æ­¥éª¤ 1 / 4</span>
                        <button class="step-btn" id="nextBtn" onclick="app.nextStep()">ä¸‹ä¸€æ­¥ â–¶</button>
                    </div>
                    <button class="reset-btn" onclick="app.resetStep()">ğŸ”„ é‡æ–°å¼€å§‹</button>
                </div>

                <!-- æ­¥éª¤è¯´æ˜ -->
                <div class="panel-section">
                    <div class="info-box" id="stepDescription"></div>
                </div>

                <!-- æ ‘çš„è¯¦ç»†è¯´æ˜ -->
                <div class="panel-section" id="treeDetails"></div>

                <!-- çŠ¶æ€æ›´æ–°æ¼”ç¤º -->
                <div class="panel-section" id="demoSection" style="display: none;">
                    <div class="panel-title">çŠ¶æ€æ›´æ–°æ¼”ç¤º</div>
                    <div class="demo-box">
                        <div class="counter-display" id="counterDisplay">0</div>
                        <button class="demo-btn" onclick="app.incrementCounter()">â• å¢åŠ è®¡æ•°</button>
                        <div class="demo-description">
                            å½“çŠ¶æ€æ”¹å˜æ—¶ï¼š
                            <br>â€¢ Widget é‡æ–°åˆ›å»ºï¼ˆè½»é‡ï¼‰
                            <br>â€¢ Element å¤ç”¨ï¼ˆé«˜æ•ˆï¼‰
                            <br>â€¢ RenderObject æ›´æ–°ï¼ˆæŒ‰éœ€ï¼‰
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // åº”ç”¨çŠ¶æ€ç®¡ç†
        const app = {
            currentExample: 0,
            currentStep: 0,
            counter: 0,
            highlightedTree: null,

            // ç¤ºä¾‹æ•°æ®
            examples: [
                {
                    title: 'åŸºç¡€ç¤ºä¾‹',
                    description: 'ç®€å•çš„ Text Widget',
                    widget: { type: 'Text', children: [], params: '"Hello Flutter"' }
                },
                {
                    title: 'å®¹å™¨ç¤ºä¾‹',
                    description: 'Container åŒ…å«å­ Widget',
                    widget: { 
                        type: 'Container', 
                        children: [
                            { type: 'Text', children: [], params: '"World"' }
                        ],
                        params: ''
                    }
                },
                {
                    title: 'åˆ—è¡¨ç¤ºä¾‹',
                    description: 'Column åŒ…å«å¤šä¸ªå­ Widget',
                    widget: { 
                        type: 'Column', 
                        children: [
                            { type: 'Text', children: [], params: '"Item 1"' },
                            { type: 'Text', children: [], params: '"Item 2"' },
                            { type: 'Icon', children: [], params: 'Icons.star' }
                        ],
                        params: ''
                    }
                },
                {
                    title: 'çŠ¶æ€æ›´æ–°',
                    description: 'StatefulWidget çŠ¶æ€å˜åŒ–',
                    widget: { type: 'Counter', children: [], params: 'count: 0' }
                }
            ],

            // åˆå§‹åŒ–
            init() {
                this.renderExampleTabs();
                this.selectExample(0);
            },

            // æ¸²æŸ“ç¤ºä¾‹æ ‡ç­¾
            renderExampleTabs() {
                const container = document.getElementById('exampleTabs');
                container.innerHTML = this.examples.map((example, index) => `
                    <div class="example-tab ${index === 0 ? 'active' : ''}" 
                         onclick="app.selectExample(${index})" 
                         id="tab-${index}">
                        <strong>${example.title}</strong>
                        <br>
                        <small>${example.description}</small>
                    </div>
                `).join('');
            },

            // é€‰æ‹©ç¤ºä¾‹
            selectExample(index) {
                this.currentExample = index;
                this.currentStep = 0;
                this.highlightedTree = null;

                // æ›´æ–°æ ‡ç­¾æ ·å¼
                document.querySelectorAll('.example-tab').forEach((tab, i) => {
                    tab.classList.toggle('active', i === index);
                });

                // æ˜¾ç¤º/éšè—æ¼”ç¤ºåŒºåŸŸ
                document.getElementById('demoSection').style.display = 
                    index === 3 ? 'block' : 'none';

                this.render();
            },

            // ä¸‹ä¸€æ­¥
            nextStep() {
                if (this.currentStep < 3) {
                    this.currentStep++;
                    this.render();
                }
            },

            // ä¸Šä¸€æ­¥
            previousStep() {
                if (this.currentStep > 0) {
                    this.currentStep--;
                    this.render();
                }
            },

            // é‡ç½®æ­¥éª¤
            resetStep() {
                this.currentStep = 0;
                this.highlightedTree = null;
                this.render();
            },

            // å¢åŠ è®¡æ•°å™¨
            incrementCounter() {
                this.counter++;
                document.getElementById('counterDisplay').textContent = this.counter;
                this.render();
            },

            // é«˜äº®æ ‘
            highlightTree(treeType) {
                this.highlightedTree = treeType;
                this.render();
            },

            // æ¸²æŸ“
            render() {
                this.renderTrees();
                this.renderStepInfo();
                this.renderStepDescription();
                this.renderTreeDetails();
                this.updateButtons();
            },

            // æ¸²æŸ“æ ‘ç»“æ„
            renderTrees() {
                const container = document.getElementById('treesDisplay');
                const example = this.examples[this.currentExample];
                let html = '';

                // Widget Tree
                if (this.currentStep >= 0) {
                    html += this.renderSingleTree('widget', 'Widget Tree', example.widget, '#4caf50');
                }

                // ç®­å¤´
                if (this.currentStep >= 1) {
                    html += '<div class="arrow">â†’</div>';
                }

                // Element Tree
                if (this.currentStep >= 1) {
                    html += this.renderSingleTree('element', 'Element Tree', example.widget, '#2196f3');
                }

                // ç®­å¤´
                if (this.currentStep >= 2) {
                    html += '<div class="arrow">â†’</div>';
                }

                // RenderObject Tree
                if (this.currentStep >= 2) {
                    html += this.renderSingleTree('render', 'RenderObject Tree', example.widget, '#ff9800');
                }

                container.innerHTML = html;
            },

            // æ¸²æŸ“å•æ£µæ ‘
            renderSingleTree(type, title, widget, color) {
                const highlighted = this.highlightedTree === type ? 'highlighted' : '';
                const description = this.getTreeShortDescription(type);
                
                return `
                    <div class="single-tree ${type} ${highlighted}" 
                         onclick="app.highlightTree('${type}')"
                         style="animation-delay: ${type === 'element' ? '0.2s' : type === 'render' ? '0.4s' : '0s'}">
                        <div class="tree-header">${title}</div>
                        ${this.renderTreeNodes(type, widget)}
                        <div class="tree-description">${description}</div>
                    </div>
                `;
            },

            // æ¸²æŸ“æ ‘èŠ‚ç‚¹
            renderTreeNodes(type, widget) {
                const nodeName = type === 'element' ? 
                    `${widget.type}Element` : 
                    type === 'render' ? 
                    `Render${widget.type}` : 
                    widget.type;

                const params = this.currentExample === 3 ? 
                    `count: ${this.counter}` : 
                    widget.params;

                let html = `
                    <div class="tree-node">
                        <div class="node">${nodeName}${params ? `(${params})` : ''}</div>
                    </div>
                `;

                if (widget.children && widget.children.length > 0) {
                    html += '<div class="tree-branch"></div>';
                    html += '<div class="tree-children">';
                    widget.children.forEach(child => {
                        const childNodeName = type === 'element' ? 
                            `${child.type}Element` : 
                            type === 'render' ? 
                            `Render${child.type}` : 
                            child.type;
                        
                        html += `
                            <div class="tree-node">
                                <div class="node">${childNodeName}${child.params ? `(${child.params})` : ''}</div>
                            </div>
                        `;
                    });
                    html += '</div>';
                }

                return html;
            },

            // è·å–æ ‘çš„ç®€çŸ­æè¿°
            getTreeShortDescription(type) {
                const descriptions = {
                    widget: 'é…ç½®ä¿¡æ¯<br>è½»é‡ã€ä¸å¯å˜',
                    element: 'ç”Ÿå‘½å‘¨æœŸç®¡ç†<br>ä¸­ä»‹ã€å¯å¤ç”¨',
                    render: 'å¸ƒå±€å’Œç»˜åˆ¶<br>é‡é‡ã€æ€§èƒ½å…³é”®'
                };
                return descriptions[type] || '';
            },

            // æ¸²æŸ“æ­¥éª¤ä¿¡æ¯
            renderStepInfo() {
                document.getElementById('stepIndicator').textContent = `ç¬¬ ${this.currentStep + 1} æ­¥`;
                document.getElementById('stepInfo').textContent = `æ­¥éª¤ ${this.currentStep + 1} / 4`;
            },

            // æ¸²æŸ“æ­¥éª¤æè¿°
            renderStepDescription() {
                const descriptions = [
                    {
                        title: 'ç¬¬1æ­¥: åˆ›å»º Widget Tree',
                        content: 'Flutter é¦–å…ˆæ ¹æ®ä½ çš„ä»£ç åˆ›å»º Widget æ ‘ã€‚\nWidget åªæ˜¯é…ç½®ä¿¡æ¯ï¼Œéå¸¸è½»é‡ï¼Œå¯ä»¥é¢‘ç¹åˆ›å»ºå’Œé”€æ¯ã€‚'
                    },
                    {
                        title: 'ç¬¬2æ­¥: åˆ›å»º Element Tree',
                        content: 'Framework ä¸ºæ¯ä¸ª Widget åˆ›å»ºå¯¹åº”çš„ Elementã€‚\nElement æŒæœ‰ Widget å¼•ç”¨ï¼Œç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯ Widget å’Œ RenderObject ä¹‹é—´çš„æ¡¥æ¢ã€‚'
                    },
                    {
                        title: 'ç¬¬3æ­¥: åˆ›å»º RenderObject Tree',
                        content: 'åªæœ‰éœ€è¦æ¸²æŸ“çš„ Widget æ‰åˆ›å»º RenderObjectã€‚\nRenderObject è´Ÿè´£å®é™…çš„å¸ƒå±€ã€ç»˜åˆ¶å’Œå‘½ä¸­æµ‹è¯•å·¥ä½œã€‚'
                    },
                    {
                        title: 'ç¬¬4æ­¥: æ¸²æŸ“åˆ°å±å¹•',
                        content: 'RenderObject æ‰§è¡Œå¸ƒå±€è®¡ç®—ã€ç»˜åˆ¶æ“ä½œï¼Œæœ€ç»ˆæ¸²æŸ“åˆ°å±å¹•ã€‚\nä¸‰æ£µæ ‘ååŒå·¥ä½œï¼Œå®ç°é«˜æ•ˆçš„ UI æ›´æ–°æœºåˆ¶ã€‚'
                    }
                ];

                const desc = descriptions[this.currentStep];
                document.getElementById('stepDescription').innerHTML = `
                    <h4>${desc.title}</h4>
                    <p>${desc.content}</p>
                `;
            },

            // æ¸²æŸ“æ ‘è¯¦ç»†è¯´æ˜
            renderTreeDetails() {
                const container = document.getElementById('treeDetails');
                
                if (!this.highlightedTree) {
                    container.innerHTML = `
                        <div class="panel-title">æ ‘çš„è¯¦ç»†è¯´æ˜</div>
                        <p style="color: #999; font-size: 14px;">ç‚¹å‡»ä¸Šæ–¹çš„æ ‘èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†è¯´æ˜</p>
                    `;
                    return;
                }

                const details = {
                    widget: {
                        title: 'Widget Treeï¼ˆé…ç½®æ ‘ï¼‰',
                        color: '#e8f5e9',
                        points: [
                            'Widget æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰é…ç½®ä¿¡æ¯',
                            'æè¿° UI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„',
                            'æ¯æ¬¡ rebuild éƒ½ä¼šé‡æ–°åˆ›å»º',
                            'åˆ›å»ºæˆæœ¬æä½ï¼Œå¯ä»¥é¢‘ç¹åˆ›å»º',
                            'å°±åƒå»ºç­‘å›¾çº¸ï¼Œæè¿°äº†æˆ¿å­åº”è¯¥æ€ä¹ˆå»º'
                        ]
                    },
                    element: {
                        title: 'Element Treeï¼ˆç”Ÿå‘½å‘¨æœŸæ ‘ï¼‰',
                        color: '#e3f2fd',
                        points: [
                            'Element æ˜¯ Widget çš„å®ä¾‹åŒ–',
                            'æŒæœ‰ Widget å’Œ RenderObject çš„å¼•ç”¨',
                            'ç®¡ç† Widget çš„ç”Ÿå‘½å‘¨æœŸ',
                            'è´Ÿè´£ Widget æ ‘çš„ diff ç®—æ³•',
                            'å°±åƒæ–½å·¥é˜Ÿé•¿ï¼Œåè°ƒå›¾çº¸å’Œå®é™…æ–½å·¥'
                        ]
                    },
                    render: {
                        title: 'RenderObject Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰',
                        color: '#fff3e0',
                        points: [
                            'RenderObject è´Ÿè´£å®é™…çš„å¸ƒå±€å’Œç»˜åˆ¶',
                            'åªæœ‰éœ€è¦æ¸²æŸ“çš„ Widget æ‰æœ‰å¯¹åº”çš„ RenderObject',
                            'å¤„ç†å¸ƒå±€çº¦æŸï¼ˆconstraintsï¼‰',
                            'æ‰§è¡Œç»˜åˆ¶æ“ä½œï¼ˆpaintï¼‰',
                            'å°±åƒå®é™…çš„æ–½å·¥è¿‡ç¨‹ï¼ŒçœŸæ­£å»ºé€ æˆ¿å­'
                        ]
                    }
                };

                const detail = details[this.highlightedTree];
                container.innerHTML = `
                    <div class="panel-title">æ ‘çš„è¯¦ç»†è¯´æ˜</div>
                    <div class="detail-section" style="background: ${detail.color}">
                        <h5>${detail.title}</h5>
                        <ul>
                            ${detail.points.map(point => `<li>${point}</li>`).join('')}
                        </ul>
                    </div>
                `;
            },

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            updateButtons() {
                document.getElementById('prevBtn').disabled = this.currentStep === 0;
                document.getElementById('nextBtn').disabled = this.currentStep === 3;
            }
        };

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>

